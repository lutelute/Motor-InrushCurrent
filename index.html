<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„É¢„Éº„Çø„ÉºÁ™ÅÂÖ•ÈõªÊµÅ„Ç∑„Éü„É•„É¨„Éº„Çø„Éº | Motor Learning Materials</title>
    <meta name="description" content="„É¢„Éº„Çø„ÉºÂßãÂãïÊôÇ„ÅÆÁ™ÅÂÖ•ÈõªÊµÅÁèæË±°„ÇíË¶ñË¶öÁöÑ„Å´ÁêÜËß£„Åô„Çã„Åü„ÇÅ„ÅÆ„Ç§„É≥„Çø„É©„ÇØ„ÉÜ„Ç£„Éñ„Ç∑„Éü„É•„É¨„Éº„Çø„Éº">
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/recharts@2.8.0/umd/Recharts.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
</head>
<body class="min-h-screen bg-gray-900 text-gray-100">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo, useCallback } = React;
        const { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, ReferenceLine, ReferenceArea } = Recharts;

        // ===============================
        // Constants & Configuration
        // ===============================
        
        const MOTOR_TYPES = {
            squirrelCage: {
                id: 'squirrelCage',
                name: '„Åã„ÅîÂûãË™òÂ∞éÊ©ü',
                category: 'Ë™òÂ∞éÊ©ü',
                description: 'ÊúÄ„ÇÇÊôÆÂèä„Åó„Å¶„ÅÑ„ÇãÊßãÈÄ†„ÄÇÂ∞é‰Ωì„Éê„ÉºÔºà„Åã„ÅîÁä∂ÔºâÈÖçÁΩÆ„Åß„Ç∑„É≥„Éó„É´„Åã„Å§Â†ÖÁâ¢„ÄÇ',
                features: [
                    'ÊßãÈÄ†„ÅåÂçòÁ¥î„ÅßÂÆâ‰æ°',
                    '‰øùÂÆà„ÅåÂÆπÊòì',
                    'ÂßãÂãïÈõªÊµÅ„ÅåÂ§ß„Åç„ÅÑÔºàÂÆöÊ†º„ÅÆ4„Äú8ÂÄçÔºâ',
                    'ÂßãÂãï„Éà„É´„ÇØ„ÅØ‰∏≠Á®ãÂ∫¶'
                ],
                applications: '„Éù„É≥„Éó„ÄÅ„Éï„Ç°„É≥„ÄÅ„Ç≥„É≥„Éô„Ç¢„ÄÅÂ∑•‰ΩúÊ©üÊ¢∞',
                inrushMultiplier: 6,
                startTorque: 1.5,
                hasSlipRings: false,
                rotorType: 'cage',
                color: '#F59E0B'
            },
            woundRotor: {
                id: 'woundRotor',
                name: 'Â∑ªÁ∑öÂûãË™òÂ∞éÊ©ü',
                category: 'Ë™òÂ∞éÊ©ü',
                description: '‰∏âÁõ∏Â∑ªÁ∑ö„ÇíÊåÅ„Å§ÂõûËª¢Â≠ê„ÄÇ„Çπ„É™„ÉÉ„Éó„É™„É≥„Ç∞„ÅßÂ§ñÈÉ®ÊäµÊäóÊé•Á∂öÂèØËÉΩ„ÄÇ',
                features: [
                    'Â§ñÈÉ®ÊäµÊäó„ÅßÂßãÂãïÈõªÊµÅÂà∂Âæ°ÂèØËÉΩ',
                    'ÂßãÂãï„Éà„É´„ÇØ„ÇíÂ§ß„Åç„Åè„Åß„Åç„Çã',
                    'ÈÄüÂ∫¶Âà∂Âæ°ÂèØËÉΩÔºàÂäπÁéá„ÅØ‰Ωé‰∏ãÔºâ',
                    'ÊßãÈÄ†„ÅåË§áÈõë„Åß„Ç≥„Çπ„ÉàÈ´ò'
                ],
                applications: '„ÇØ„É¨„Éº„É≥„ÄÅ„Éõ„Ç§„Çπ„Éà„ÄÅÂ§ßÂûã„Éù„É≥„Éó„ÄÅÂúßÁ∏ÆÊ©ü',
                inrushMultiplier: 3,
                startTorque: 2.5,
                hasSlipRings: true,
                rotorType: 'wound',
                color: '#A855F7'
            },
            salientPole: {
                id: 'salientPole',
                name: 'Á™ÅÊ•µÂûãÂêåÊúüÊ©ü',
                category: 'ÂêåÊúüÊ©ü',
                description: 'Á£ÅÊ•µ„ÅåÂõûËª¢Â≠ê„Åã„ÇâÁ™ÅÂá∫„ÄÇ‰ΩéÈÄü„ÉªÂ§öÊ•µÁî®ÈÄî„Å´ÊúÄÈÅ©„ÄÇ',
                features: [
                    'Ê•µÊï∞„ÇíÂ§ö„Åè„Åß„Åç„ÇãÔºàÊ∞¥ËªäÁõ¥ÁµêÂêë„ÅçÔºâ',
                    'ÂõûËª¢Êï∞„ÅØÈõªÊ∫êÂë®Ê≥¢Êï∞„Å´ÂêåÊúü',
                    'ÂäõÁéáË™øÊï¥„ÅåÂèØËÉΩ',
                    '„ÉÄ„É≥„ÉëÂ∑ªÁ∑ö„ÅßÂßãÂãïÔºàË™òÂ∞éÊ©ü„Å®„Åó„Å¶Ôºâ'
                ],
                applications: 'Ê∞¥ÂäõÁô∫ÈõªÊ©ü„ÄÅ‰ΩéÈÄüÂ§ßÂûãÊ©üÊ¢∞',
                inrushMultiplier: 5,
                startTorque: 0.4,
                hasSlipRings: true,
                rotorType: 'salient',
                color: '#EC4899'
            },
            cylindrical: {
                id: 'cylindrical',
                name: 'ÂÜÜÁ≠íÂûãÂêåÊúüÊ©ü',
                category: 'ÂêåÊúüÊ©ü',
                description: 'ÂÜÜÁ≠íÂΩ¢ÂõûËª¢Â≠ê„Å´ÁïåÁ£ÅÂ∑ªÁ∑öÂèéÁ¥ç„ÄÇÈ´òÈÄüÂõûËª¢Âêë„Åç„ÄÇ',
                features: [
                    'È´òÈÄüÂõûËª¢„Å´ÈÅ©„Åó„ÅüÊßãÈÄ†Ôºà2Ê•µ/4Ê•µÔºâ',
                    'Ê©üÊ¢∞ÁöÑÂº∑Â∫¶„ÅåÈ´ò„ÅÑ',
                    'È¢®Êêç„ÅåÂ∞ë„Å™„ÅÑ',
                    '„Çø„Éº„Éì„É≥Áõ¥Áµê„Å´ÊúÄÈÅ©'
                ],
                applications: 'ÁÅ´Âäõ„ÉªÂéüÂ≠êÂäõÁô∫ÈõªÊ©üÔºà„Çø„Éº„Éì„É≥Áô∫ÈõªÊ©üÔºâ',
                inrushMultiplier: 5,
                startTorque: 0.3,
                hasSlipRings: true,
                rotorType: 'cylindrical',
                color: '#3B82F6'
            },
        };

        const SIMULATION_CONSTANTS = {
            DEFAULT_POWER: 7.5,
            DEFAULT_VOLTAGE: 200,
            DEFAULT_FREQUENCY: 50,
            DEFAULT_SWITCHING_ANGLE: 0,
            DEFAULT_DC_TIME_CONSTANT: 50,
            DEFAULT_VIEW_CYCLES: 10,
            DEFAULT_STOP_TIME: 50,
            POWER_FACTOR: 0.85,
            INDUCTION_TAU_AC: 0.3,
            SYNCHRONOUS_TAU_AC: 0.5,
            SIMULATION_POINTS_PER_CYCLE: 100
        };

        // ===============================
        // Utility Functions
        // ===============================
        
        const getPhaseDescription = (angle) => {
            if (angle === 0 || angle === 180) return 'DCÊàêÂàÜÊúÄÂ∞è';
            if (angle === 90 || angle === 270) return 'DCÊàêÂàÜÊúÄÂ§ß';
            return '';
        };

        const calculateSimulationParameters = (motor, params) => {
            const omega = 2 * Math.PI * params.frequency;
            const period = 1 / params.frequency;
            const ratedCurrent = (params.ratedPower * 1000) / 
                (Math.sqrt(3) * params.ratedVoltage * SIMULATION_CONSTANTS.POWER_FACTOR);
            const peakRated = ratedCurrent * Math.sqrt(2);
            const peakInrush = peakRated * motor.inrushMultiplier;
            
            return {
                omega,
                period,
                ratedCurrent,
                peakRated,
                peakInrush,
                phi0: (params.switchingAngle * Math.PI) / 180,
                tau: params.dcTimeConstant / 1000,
                tauAC: motor.category === 'ÂêåÊúüÊ©ü' ? 
                    SIMULATION_CONSTANTS.SYNCHRONOUS_TAU_AC : 
                    SIMULATION_CONSTANTS.INDUCTION_TAU_AC
            };
        };

        // ===============================
        // Motor Diagram Components
        // ===============================
        
        const RotorDiagram = ({ type, color = "#F59E0B" }) => {
            const baseProps = {
                viewBox: "0 0 200 200",
                className: "w-32 h-32"
            };

            switch (type) {
                case 'cage':
                    return (
                        <svg {...baseProps}>
                            <defs>
                                <radialGradient id="cageGradient" cx="0.5" cy="0.3">
                                    <stop offset="0%" stopColor="#4B5563" />
                                    <stop offset="100%" stopColor="#374151" />
                                </radialGradient>
                            </defs>
                            <circle cx="100" cy="100" r="80" fill="url(#cageGradient)" 
                                stroke="#6B7280" strokeWidth="2" />
                            <circle cx="100" cy="100" r="60" fill="#1F2937" 
                                stroke="#6B7280" strokeWidth="1" />
                            
                            {Array.from({length: 12}).map((_, i) => {
                                const angle = (i * 30 * Math.PI) / 180;
                                const x1 = 100 + 60 * Math.cos(angle);
                                const y1 = 100 + 60 * Math.sin(angle);
                                const x2 = 100 + 78 * Math.cos(angle);
                                const y2 = 100 + 78 * Math.sin(angle);
                                return (
                                    <line key={i} x1={x1} y1={y1} x2={x2} y2={y2} 
                                        stroke={color} strokeWidth="4" />
                                );
                            })}
                            
                            <circle cx="100" cy="100" r="60" fill="none" 
                                stroke={color} strokeWidth="3" />
                            <circle cx="100" cy="100" r="78" fill="none" 
                                stroke={color} strokeWidth="3" />
                            <circle cx="100" cy="100" r="15" fill="#4B5563" 
                                stroke="#6B7280" strokeWidth="2" />
                            
                            <text x="100" y="185" textAnchor="middle" fill="#9CA3AF" 
                                fontSize="11" fontWeight="bold">
                                „Åã„ÅîÂûãÂõûËª¢Â≠ê
                            </text>
                        </svg>
                    );

                case 'wound':
                    return (
                        <svg {...baseProps}>
                            <defs>
                                <radialGradient id="woundGradient" cx="0.5" cy="0.3">
                                    <stop offset="0%" stopColor="#4B5563" />
                                    <stop offset="100%" stopColor="#374151" />
                                </radialGradient>
                            </defs>
                            <circle cx="100" cy="100" r="80" fill="url(#woundGradient)" 
                                stroke="#6B7280" strokeWidth="2" />
                            <circle cx="100" cy="100" r="60" fill="#1F2937" 
                                stroke="#6B7280" strokeWidth="1" />
                            
                            {[0, 120, 240].map((deg, i) => {
                                const colors = ['#EF4444', '#22C55E', '#3B82F6'];
                                const angle = (deg * Math.PI) / 180;
                                return (
                                    <g key={i}>
                                        <path
                                            d={`M${100 + 30 * Math.cos(angle)},${100 + 30 * Math.sin(angle)} 
                                                Q${100 + 50 * Math.cos(angle + 0.3)},${100 + 50 * Math.sin(angle + 0.3)} 
                                                ${100 + 70 * Math.cos(angle)},${100 + 70 * Math.sin(angle)}`}
                                            fill="none" stroke={colors[i]} strokeWidth="3"
                                        />
                                        <path
                                            d={`M${100 + 30 * Math.cos(angle + Math.PI)},${100 + 30 * Math.sin(angle + Math.PI)} 
                                                Q${100 + 50 * Math.cos(angle + Math.PI - 0.3)},${100 + 50 * Math.sin(angle + Math.PI - 0.3)} 
                                                ${100 + 70 * Math.cos(angle + Math.PI)},${100 + 70 * Math.sin(angle + Math.PI)}`}
                                            fill="none" stroke={colors[i]} strokeWidth="3"
                                        />
                                    </g>
                                );
                            })}
                            
                            <circle cx="100" cy="100" r="20" fill="none" 
                                stroke={color} strokeWidth="4" />
                            <circle cx="100" cy="100" r="12" fill="#4B5563" 
                                stroke="#6B7280" strokeWidth="2" />
                            
                            <text x="100" y="185" textAnchor="middle" fill="#9CA3AF" 
                                fontSize="11" fontWeight="bold">
                                Â∑ªÁ∑öÂûãÂõûËª¢Â≠ê
                            </text>
                        </svg>
                    );

                case 'salient':
                    return (
                        <svg {...baseProps}>
                            <defs>
                                <radialGradient id="salientGradient" cx="0.5" cy="0.3">
                                    <stop offset="0%" stopColor="#4B5563" />
                                    <stop offset="100%" stopColor="#374151" />
                                </radialGradient>
                            </defs>
                            <circle cx="100" cy="100" r="80" fill="url(#salientGradient)" 
                                stroke="#6B7280" strokeWidth="2" />
                            
                            {[0, 90, 180, 270].map((deg, i) => {
                                const angle = (deg * Math.PI) / 180;
                                const x = 100 + 45 * Math.cos(angle);
                                const y = 100 + 45 * Math.sin(angle);
                                return (
                                    <g key={i}>
                                        <rect
                                            x={x - 15} y={y - 25} width="30" height="50"
                                            fill="#1F2937" stroke={color} strokeWidth="2"
                                            transform={`rotate(${deg}, ${x}, ${y})`}
                                        />
                                        <rect
                                            x={x - 10} y={y - 20} width="20" height="40"
                                            fill="none" stroke="#F59E0B" strokeWidth="2"
                                            transform={`rotate(${deg}, ${x}, ${y})`}
                                        />
                                    </g>
                                );
                            })}
                            
                            <circle cx="100" cy="100" r="25" fill="#4B5563" 
                                stroke="#6B7280" strokeWidth="2" />
                            
                            <text x="100" y="185" textAnchor="middle" fill="#9CA3AF" 
                                fontSize="11" fontWeight="bold">
                                Á™ÅÊ•µÂûãÂõûËª¢Â≠ê
                            </text>
                        </svg>
                    );

                case 'cylindrical':
                    return (
                        <svg {...baseProps}>
                            <defs>
                                <radialGradient id="cylindricalGradient" cx="0.5" cy="0.3">
                                    <stop offset="0%" stopColor="#4B5563" />
                                    <stop offset="100%" stopColor="#374151" />
                                </radialGradient>
                            </defs>
                            <circle cx="100" cy="100" r="80" fill="url(#cylindricalGradient)" 
                                stroke="#6B7280" strokeWidth="2" />
                            <circle cx="100" cy="100" r="65" fill="#1F2937" 
                                stroke="#6B7280" strokeWidth="1" />
                            
                            {Array.from({length: 24}).map((_, i) => {
                                const angle = (i * 15 * Math.PI) / 180;
                                const x1 = 100 + 40 * Math.cos(angle);
                                const y1 = 100 + 40 * Math.sin(angle);
                                const x2 = 100 + 63 * Math.cos(angle);
                                const y2 = 100 + 63 * Math.sin(angle);
                                return (
                                    <line key={i} x1={x1} y1={y1} x2={x2} y2={y2} 
                                        stroke={color} strokeWidth="2" />
                                );
                            })}
                            
                            <circle cx="100" cy="100" r="40" fill="#1F2937" 
                                stroke="#6B7280" strokeWidth="1" />
                            <circle cx="100" cy="100" r="15" fill="#4B5563" 
                                stroke="#6B7280" strokeWidth="2" />
                            
                            <text x="100" y="185" textAnchor="middle" fill="#9CA3AF" 
                                fontSize="11" fontWeight="bold">
                                ÂÜÜÁ≠íÂûãÂõûËª¢Â≠ê
                            </text>
                        </svg>
                    );

                default:
                    return null;
            }
        };

        // ===============================
        // Equivalent Circuit Components
        // ===============================
        
        const InductionMotorCircuit = ({ slip = 1, hasExternalResistor = false }) => (
            <div className="w-full max-w-4xl mx-auto">
                <svg viewBox="0 0 600 220" className="w-full h-auto">
                    <rect x="0" y="0" width="600" height="220" fill="#1F2937" rx="8" />
                    
                    {/* ÈõªÊ∫ê */}
                    <circle cx="40" cy="110" r="18" fill="none" stroke="#3B82F6" strokeWidth="2" />
                    <text x="40" y="115" textAnchor="middle" fill="#3B82F6" fontSize="12" fontWeight="bold">V</text>
                    <line x1="40" y1="92" x2="40" y2="50" stroke="#9CA3AF" strokeWidth="2" />
                    <line x1="40" y1="128" x2="40" y2="170" stroke="#9CA3AF" strokeWidth="2" />
                    <line x1="40" y1="50" x2="80" y2="50" stroke="#9CA3AF" strokeWidth="2" />
                    
                    {/* R1 */}
                    <rect x="80" y="40" width="40" height="20" fill="none" stroke="#EF4444" strokeWidth="2" />
                    <text x="100" y="35" textAnchor="middle" fill="#EF4444" fontSize="10">R‚ÇÅ</text>
                    <line x1="120" y1="50" x2="150" y2="50" stroke="#9CA3AF" strokeWidth="2" />
                    
                    {/* X1 */}
                    <path d="M150,50 Q160,40 170,50 Q180,60 190,50 Q200,40 210,50" 
                        fill="none" stroke="#F59E0B" strokeWidth="2" />
                    <text x="180" y="35" textAnchor="middle" fill="#F59E0B" fontSize="10">jX‚ÇÅ</text>
                    <line x1="210" y1="50" x2="250" y2="50" stroke="#9CA3AF" strokeWidth="2" />
                    <circle cx="250" cy="50" r="3" fill="#9CA3AF" />
                    
                    {/* Âä±Á£ÅÂõûË∑Ø */}
                    <line x1="250" y1="50" x2="250" y2="80" stroke="#9CA3AF" strokeWidth="2" />
                    <path d="M250,80 Q240,90 250,100 Q260,110 250,120 Q240,130 250,140" 
                        fill="none" stroke="#22C55E" strokeWidth="2" />
                    <text x="230" y="115" textAnchor="end" fill="#22C55E" fontSize="9">jX‚Çò</text>
                    <line x1="250" y1="140" x2="250" y2="170" stroke="#9CA3AF" strokeWidth="2" />
                    <line x1="250" y1="50" x2="300" y2="50" stroke="#9CA3AF" strokeWidth="2" />
                    
                    {/* X2' */}
                    <path d="M300,50 Q310,40 320,50 Q330,60 340,50 Q350,40 360,50" 
                        fill="none" stroke="#F59E0B" strokeWidth="2" />
                    <text x="330" y="35" textAnchor="middle" fill="#F59E0B" fontSize="10">jX‚ÇÇ'</text>
                    <line x1="360" y1="50" x2="400" y2="50" stroke="#9CA3AF" strokeWidth="2" />
                    
                    {/* R2'/s */}
                    <rect x="400" y="40" width="50" height="20" fill="none" stroke="#EC4899" strokeWidth="2" />
                    <text x="425" y="35" textAnchor="middle" fill="#EC4899" fontSize="10">R‚ÇÇ'/s</text>
                    <line x1="450" y1="50" x2="480" y2="50" stroke="#9CA3AF" strokeWidth="2" />
                    
                    {/* Â§ñÈÉ®ÊäµÊäóÔºàÂ∑ªÁ∑öÂûã„ÅÆÂ†¥ÂêàÔºâ */}
                    {hasExternalResistor && (
                        <>
                            <rect x="480" y="40" width="40" height="20" fill="none" 
                                stroke="#A855F7" strokeWidth="2" strokeDasharray="4,2" />
                            <text x="500" y="35" textAnchor="middle" fill="#A855F7" fontSize="10">R_ext</text>
                            <line x1="520" y1="50" x2="560" y2="50" stroke="#9CA3AF" strokeWidth="2" />
                            <line x1="560" y1="50" x2="560" y2="170" stroke="#9CA3AF" strokeWidth="2" />
                        </>
                    )}
                    {!hasExternalResistor && (
                        <>
                            <line x1="480" y1="50" x2="560" y2="50" stroke="#9CA3AF" strokeWidth="2" />
                            <line x1="560" y1="50" x2="560" y2="170" stroke="#9CA3AF" strokeWidth="2" />
                        </>
                    )}
                    
                    <line x1="40" y1="170" x2="560" y2="170" stroke="#9CA3AF" strokeWidth="2" />
                    
                    {/* „Çπ„É™„ÉÉ„ÉóË°®Á§∫ */}
                    <rect x="400" y="70" width="80" height="30" fill="#374151" rx="4" />
                    <text x="440" y="85" textAnchor="middle" fill="#9CA3AF" fontSize="9">s = {slip}</text>
                    <text x="440" y="96" textAnchor="middle" fill="#EC4899" fontSize="8">
                        {slip === 1 ? '(ÂÅúÊ≠¢)' : '(ÂÆöÊ†º)'}
                    </text>
                    
                    {/* Âá°‰æã */}
                    <text x="20" y="200" fill="#9CA3AF" fontSize="9">
                        <tspan fill="#EF4444">R‚ÇÅ</tspan>:‰∏ÄÊ¨°ÊäµÊäó <tspan fill="#F59E0B">X‚ÇÅ,X‚ÇÇ'</tspan>:Êºè„Çå„É™„Ç¢„ÇØ„Çø„É≥„Çπ{' '}
                        <tspan fill="#22C55E">X‚Çò</tspan>:Âä±Á£Å <tspan fill="#EC4899">R‚ÇÇ'/s</tspan>:‰∫åÊ¨°ÊäµÊäó
                        {hasExternalResistor && <tspan fill="#A855F7"> R_ext:Â§ñÈÉ®ÊäµÊäó</tspan>}
                    </text>
                </svg>
            </div>
        );

        const SynchronousMotorCircuit = ({ isSalient = true }) => (
            <div className="w-full max-w-4xl mx-auto">
                <svg viewBox="0 0 600 220" className="w-full h-auto">
                    <rect x="0" y="0" width="600" height="220" fill="#1F2937" rx="8" />
                    
                    {/* ÈõªÊ∫ê */}
                    <circle cx="40" cy="110" r="18" fill="none" stroke="#3B82F6" strokeWidth="2" />
                    <text x="40" y="115" textAnchor="middle" fill="#3B82F6" fontSize="12" fontWeight="bold">V</text>
                    <line x1="40" y1="92" x2="40" y2="50" stroke="#9CA3AF" strokeWidth="2" />
                    <line x1="40" y1="128" x2="40" y2="170" stroke="#9CA3AF" strokeWidth="2" />
                    <line x1="40" y1="50" x2="80" y2="50" stroke="#9CA3AF" strokeWidth="2" />
                    
                    {/* Ra */}
                    <rect x="80" y="40" width="40" height="20" fill="none" stroke="#EF4444" strokeWidth="2" />
                    <text x="100" y="35" textAnchor="middle" fill="#EF4444" fontSize="10">R‚Çê</text>
                    <line x1="120" y1="50" x2="160" y2="50" stroke="#9CA3AF" strokeWidth="2" />
                    
                    {/* Xs */}
                    {isSalient ? (
                        <>
                            <path d="M160,50 Q175,35 190,50 Q205,65 220,50 Q235,35 250,50 Q265,65 280,50" 
                                fill="none" stroke="#F59E0B" strokeWidth="2" />
                            <text x="220" y="30" textAnchor="middle" fill="#F59E0B" fontSize="10">jXd (Áõ¥Ëª∏)</text>
                            <text x="220" y="75" textAnchor="middle" fill="#F59E0B" fontSize="9" opacity="0.7">jXq (Ê®™Ëª∏)</text>
                        </>
                    ) : (
                        <>
                            <path d="M160,50 Q175,35 190,50 Q205,65 220,50 Q235,35 250,50 Q265,65 280,50" 
                                fill="none" stroke="#F59E0B" strokeWidth="2" />
                            <text x="220" y="30" textAnchor="middle" fill="#F59E0B" fontSize="10">jXs</text>
                        </>
                    )}
                    
                    <line x1="280" y1="50" x2="350" y2="50" stroke="#9CA3AF" strokeWidth="2" />
                    
                    {/* Ë™òËµ∑ÈõªÂúß E */}
                    <circle cx="380" cy="50" r="25" fill="none" stroke="#22C55E" strokeWidth="2" />
                    <text x="380" y="55" textAnchor="middle" fill="#22C55E" fontSize="14" fontWeight="bold">E</text>
                    <text x="380" y="90" textAnchor="middle" fill="#22C55E" fontSize="9">Ë™òËµ∑ÈõªÂúß</text>
                    <line x1="405" y1="50" x2="450" y2="50" stroke="#9CA3AF" strokeWidth="2" />
                    
                    {/* ÁïåÁ£ÅÂõûË∑Ø */}
                    <rect x="450" y="30" width="100" height="60" fill="#374151" 
                        stroke="#A855F7" strokeWidth="2" rx="4" />
                    <text x="500" y="55" textAnchor="middle" fill="#A855F7" fontSize="10">ÁïåÁ£ÅÂõûË∑Ø</text>
                    <text x="500" y="70" textAnchor="middle" fill="#A855F7" fontSize="9">(DCÂä±Á£Å)</text>
                    
                    <line x1="550" y1="60" x2="560" y2="60" stroke="#9CA3AF" strokeWidth="2" />
                    <line x1="560" y1="60" x2="560" y2="170" stroke="#9CA3AF" strokeWidth="2" />
                    <line x1="40" y1="170" x2="560" y2="170" stroke="#9CA3AF" strokeWidth="2" />
                    
                    {/* Âá°‰æã */}
                    <text x="20" y="200" fill="#9CA3AF" fontSize="9">
                        <tspan fill="#EF4444">R‚Çê</tspan>:ÈõªÊ©üÂ≠êÊäµÊäó{' '}
                        <tspan fill="#F59E0B">{isSalient ? 'Xd,Xq' : 'Xs'}</tspan>:
                        {isSalient ? 'Áõ¥Ëª∏„ÉªÊ®™Ëª∏„É™„Ç¢„ÇØ„Çø„É≥„Çπ' : 'ÂêåÊúü„É™„Ç¢„ÇØ„Çø„É≥„Çπ'}{' '}
                        <tspan fill="#22C55E">E</tspan>:Ë™òËµ∑ÈõªÂúß{' '}
                        <tspan fill="#A855F7">ÁïåÁ£Å</tspan>:DCÂä±Á£Å
                    </text>
                    
                    {isSalient && (
                        <text x="20" y="215" fill="#9CA3AF" fontSize="8">
                            ‚ÄªÁ™ÅÊ•µÂûã„ÅØXd ‚â† XqÔºàÁ£ÅÊ∞óÁöÑÈùûÂØæÁß∞ÊÄßÔºâ
                        </text>
                    )}
                </svg>
            </div>
        );

        // ===============================
        // Main Simulation Hook
        // ===============================
        
        const useSimulationData = (motor, params) => {
            return useMemo(() => {
                const simParams = calculateSimulationParameters(motor, params);
                const { omega, period, ratedCurrent, peakRated, peakInrush, phi0, tau, tauAC } = simParams;
                
                const stopTimeS = params.stopTime / 1000;
                const runTime = period * params.viewCycles;
                const totalTime = stopTimeS + runTime;
                const dt = period / SIMULATION_CONSTANTS.SIMULATION_POINTS_PER_CYCLE;
                const steps = Math.floor(totalTime / dt);
                
                const data = [];
                let maxCurrent = 0;
                
                for (let i = 0; i <= steps; i++) {
                    const t = i * dt;
                    const tMs = t * 1000;
                    
                    if (t < stopTimeS) {
                        data.push({
                            time: parseFloat(tMs.toFixed(2)),
                            iU: 0, iV: 0, iW: 0,
                            envPos: 0, envNeg: 0, dcU: 0,
                            peakRated: parseFloat(peakRated.toFixed(1)),
                        });
                        continue;
                    }
                    
                    const tRun = t - stopTimeS;
                    const amplitudeDecay = 1 + (motor.inrushMultiplier - 1) * Math.exp(-tRun / tauAC);
                    const currentAmplitude = peakRated * amplitudeDecay;
                    
                    const phaseU = omega * tRun + phi0;
                    const phaseV = omega * tRun + phi0 - (2 * Math.PI / 3);
                    const phaseW = omega * tRun + phi0 + (2 * Math.PI / 3);
                    
                    const dcU = -currentAmplitude * Math.sin(phi0) * Math.exp(-tRun / tau);
                    const dcV = -currentAmplitude * Math.sin(phi0 - (2 * Math.PI / 3)) * Math.exp(-tRun / tau);
                    const dcW = -currentAmplitude * Math.sin(phi0 + (2 * Math.PI / 3)) * Math.exp(-tRun / tau);
                    
                    const iU = currentAmplitude * Math.sin(phaseU) + dcU;
                    const iV = currentAmplitude * Math.sin(phaseV) + dcV;
                    const iW = currentAmplitude * Math.sin(phaseW) + dcW;
                    
                    const envelopeU_pos = currentAmplitude + Math.abs(dcU);
                    const envelopeU_neg = -(currentAmplitude + Math.abs(dcU));
                    
                    maxCurrent = Math.max(maxCurrent, Math.abs(iU), Math.abs(iV), Math.abs(iW));
                    
                    data.push({
                        time: parseFloat(tMs.toFixed(2)),
                        iU: parseFloat(iU.toFixed(1)),
                        iV: parseFloat(iV.toFixed(1)),
                        iW: parseFloat(iW.toFixed(1)),
                        envPos: parseFloat(envelopeU_pos.toFixed(1)),
                        envNeg: parseFloat(envelopeU_neg.toFixed(1)),
                        dcU: parseFloat(dcU.toFixed(1)),
                        peakRated: parseFloat(peakRated.toFixed(1)),
                    });
                }
                
                return { 
                    data, 
                    ratedCurrent, 
                    peakRated, 
                    peakInrush, 
                    maxCurrent, 
                    stopTimeMs: params.stopTime 
                };
            }, [motor, params]);
        };

        // ===============================
        // Main Application Component
        // ===============================
        
        function MotorInrushSimulator() {
            // State management
            const [selectedMotor, setSelectedMotor] = useState('squirrelCage');
            const [simulationParams, setSimulationParams] = useState({
                ratedPower: SIMULATION_CONSTANTS.DEFAULT_POWER,
                ratedVoltage: SIMULATION_CONSTANTS.DEFAULT_VOLTAGE,
                frequency: SIMULATION_CONSTANTS.DEFAULT_FREQUENCY,
                switchingAngle: SIMULATION_CONSTANTS.DEFAULT_SWITCHING_ANGLE,
                dcTimeConstant: SIMULATION_CONSTANTS.DEFAULT_DC_TIME_CONSTANT,
                viewCycles: SIMULATION_CONSTANTS.DEFAULT_VIEW_CYCLES,
                stopTime: SIMULATION_CONSTANTS.DEFAULT_STOP_TIME
            });
            const [displayOptions, setDisplayOptions] = useState({
                showEnvelope: true,
                showCircuit: false
            });
            const [circuitSlip, setCircuitSlip] = useState(1);

            // Computed values
            const motor = MOTOR_TYPES[selectedMotor];
            const simulationData = useSimulationData(motor, simulationParams);

            // Event handlers
            const updateSimulationParam = useCallback((key, value) => {
                setSimulationParams(prev => ({ ...prev, [key]: value }));
            }, []);

            const updateDisplayOption = useCallback((key, value) => {
                setDisplayOptions(prev => ({ ...prev, [key]: value }));
            }, []);

            return (
                <div className="p-4 max-w-7xl mx-auto">
                    {/* Header */}
                    <header className="text-center mb-8">
                        <h1 className="text-4xl font-bold text-blue-400 mb-2">
                            ‚ö° „É¢„Éº„Çø„ÉºÁ™ÅÂÖ•ÈõªÊµÅ„Ç∑„Éü„É•„É¨„Éº„Çø„Éº
                        </h1>
                        <p className="text-lg text-gray-300">
                            ÂßãÂãïÊôÇ„ÅÆ‰∏âÁõ∏ÈõªÊµÅÊ≥¢ÂΩ¢„Å®DCÊàêÂàÜ„ÇíË©≥Á¥∞Ëß£Êûê
                        </p>
                    </header>

                    {/* Motor Type Selection */}
                    <section className="mb-6">
                        <h2 className="text-lg font-semibold text-gray-200 mb-3">„É¢„Éº„Çø„ÉºÁ®ÆÈ°ûÈÅ∏Êäû</h2>
                        <div className="grid grid-cols-2 lg:grid-cols-4 gap-3">
                            {Object.values(MOTOR_TYPES).map((m) => (
                                <button
                                    key={m.id}
                                    onClick={() => setSelectedMotor(m.id)}
                                    className={`p-4 rounded-lg border-2 transition-all duration-200 ${
                                        selectedMotor === m.id
                                            ? `border-blue-500 bg-blue-600/20 text-white`
                                            : 'border-gray-600 bg-gray-800 text-gray-300 hover:border-gray-500 hover:bg-gray-750'
                                    }`}
                                >
                                    <div className="font-semibold text-sm">{m.name}</div>
                                    <div className="text-xs opacity-75 mt-1">{m.category}</div>
                                </button>
                            ))}
                        </div>
                    </section>

                    {/* Selected Motor Details */}
                    <section className="bg-gray-800 p-6 rounded-lg mb-6 border-l-4 border-blue-500">
                        <div className="flex flex-col lg:flex-row items-start gap-6">
                            <RotorDiagram type={motor.rotorType} color={motor.color} />
                            <div className="flex-1">
                                <h2 className="text-2xl font-bold text-blue-400 mb-2">{motor.name}</h2>
                                <p className="text-gray-300 mb-4">{motor.description}</p>
                                
                                <div className="grid md:grid-cols-2 gap-6">
                                    <div>
                                        <h3 className="text-sm font-semibold text-gray-400 mb-2">ÁâπÂæ¥</h3>
                                        <ul className="space-y-1">
                                            {motor.features.map((feature, i) => (
                                                <li key={i} className="text-sm text-gray-300">
                                                    ‚Ä¢ {feature}
                                                </li>
                                            ))}
                                        </ul>
                                    </div>
                                    
                                    <div>
                                        <h3 className="text-sm font-semibold text-gray-400 mb-2">Áî®ÈÄî„ÉªÁâπÊÄß</h3>
                                        <p className="text-sm text-gray-300 mb-3">{motor.applications}</p>
                                        
                                        <div className="space-y-2">
                                            <div className="flex justify-between text-sm">
                                                <span className="text-gray-400">Á™ÅÂÖ•ÈõªÊµÅÂÄçÁéá:</span>
                                                <span className="text-yellow-400 font-mono font-bold">
                                                    {motor.inrushMultiplier}ÂÄç
                                                </span>
                                            </div>
                                            <div className="flex justify-between text-sm">
                                                <span className="text-gray-400">ÂßãÂãï„Éà„É´„ÇØ:</span>
                                                <span className="text-green-400 font-mono font-bold">
                                                    {motor.startTorque} p.u.
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    {/* Simulation Parameters */}
                    <section className="bg-gray-800 p-6 rounded-lg mb-6">
                        <h2 className="text-lg font-semibold text-gray-200 mb-4">„Ç∑„Éü„É•„É¨„Éº„Ç∑„Éß„É≥„Éë„É©„É°„Éº„Çø</h2>
                        
                        <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                            {/* Power Rating */}
                            <div>
                                <label className="block text-sm text-gray-400 mb-2">ÂÆöÊ†ºÂá∫Âäõ [kW]</label>
                                <input
                                    type="range"
                                    min="0.75" max="37" step="0.25"
                                    value={simulationParams.ratedPower}
                                    onChange={(e) => updateSimulationParam('ratedPower', parseFloat(e.target.value))}
                                    className="w-full"
                                />
                                <div className="text-sm font-mono text-blue-300 mt-1">
                                    {simulationParams.ratedPower} kW
                                </div>
                            </div>

                            {/* Voltage */}
                            <div>
                                <label className="block text-sm text-gray-400 mb-2">ÂÆöÊ†ºÈõªÂúß [V]</label>
                                <select
                                    value={simulationParams.ratedVoltage}
                                    onChange={(e) => updateSimulationParam('ratedVoltage', parseInt(e.target.value))}
                                    className="w-full bg-gray-700 rounded px-3 py-2 text-sm"
                                >
                                    <option value={200}>200V</option>
                                    <option value={400}>400V</option>
                                    <option value={6600}>6.6kV</option>
                                </select>
                            </div>

                            {/* Frequency */}
                            <div>
                                <label className="block text-sm text-gray-400 mb-2">ÈõªÊ∫êÂë®Ê≥¢Êï∞ [Hz]</label>
                                <select
                                    value={simulationParams.frequency}
                                    onChange={(e) => updateSimulationParam('frequency', parseInt(e.target.value))}
                                    className="w-full bg-gray-700 rounded px-3 py-2 text-sm"
                                >
                                    <option value={50}>50Hz</option>
                                    <option value={60}>60Hz</option>
                                </select>
                            </div>

                            {/* Stop Time */}
                            <div>
                                <label className="block text-sm text-gray-400 mb-2">ÂÅúÊ≠¢ÊôÇÈñì [ms]</label>
                                <input
                                    type="range"
                                    min="0" max="100" step="10"
                                    value={simulationParams.stopTime}
                                    onChange={(e) => updateSimulationParam('stopTime', parseInt(e.target.value))}
                                    className="w-full"
                                />
                                <div className="text-sm font-mono text-gray-300 mt-1">
                                    {simulationParams.stopTime} ms
                                </div>
                            </div>

                            {/* Switching Angle */}
                            <div>
                                <label className="block text-sm text-gray-400 mb-2">ÊäïÂÖ•‰ΩçÁõ∏Ëßí [¬∞]</label>
                                <input
                                    type="range"
                                    min="0" max="360" step="15"
                                    value={simulationParams.switchingAngle}
                                    onChange={(e) => updateSimulationParam('switchingAngle', parseInt(e.target.value))}
                                    className="w-full"
                                />
                                <div className="text-sm font-mono text-purple-300 mt-1">
                                    {simulationParams.switchingAngle}¬∞
                                    <span className="text-xs text-blue-400 ml-2">
                                        {getPhaseDescription(simulationParams.switchingAngle)}
                                    </span>
                                </div>
                            </div>

                            {/* DC Time Constant */}
                            <div>
                                <label className="block text-sm text-gray-400 mb-2">DCÊ∏õË°∞ÊôÇÂÆöÊï∞ [ms]</label>
                                <input
                                    type="range"
                                    min="10" max="200" step="5"
                                    value={simulationParams.dcTimeConstant}
                                    onChange={(e) => updateSimulationParam('dcTimeConstant', parseInt(e.target.value))}
                                    className="w-full"
                                />
                                <div className="text-sm font-mono text-pink-300 mt-1">
                                    {simulationParams.dcTimeConstant} ms
                                </div>
                            </div>

                            {/* View Cycles */}
                            <div>
                                <label className="block text-sm text-gray-400 mb-2">Ë°®Á§∫„Çµ„Ç§„ÇØ„É´Êï∞</label>
                                <input
                                    type="range"
                                    min="3" max="30" step="1"
                                    value={simulationParams.viewCycles}
                                    onChange={(e) => updateSimulationParam('viewCycles', parseInt(e.target.value))}
                                    className="w-full"
                                />
                                <div className="text-sm font-mono text-green-300 mt-1">
                                    {simulationParams.viewCycles} „Çµ„Ç§„ÇØ„É´
                                </div>
                            </div>

                            {/* Display Options */}
                            <div className="flex flex-col justify-end">
                                <label className="flex items-center gap-2 mb-2 cursor-pointer">
                                    <input
                                        type="checkbox"
                                        checked={displayOptions.showEnvelope}
                                        onChange={(e) => updateDisplayOption('showEnvelope', e.target.checked)}
                                        className="w-4 h-4"
                                    />
                                    <span className="text-sm">ÂåÖÁµ°Á∑öË°®Á§∫</span>
                                </label>
                                <label className="flex items-center gap-2 cursor-pointer">
                                    <input
                                        type="checkbox"
                                        checked={displayOptions.showCircuit}
                                        onChange={(e) => updateDisplayOption('showCircuit', e.target.checked)}
                                        className="w-4 h-4"
                                    />
                                    <span className="text-sm">Á≠â‰æ°ÂõûË∑ØË°®Á§∫</span>
                                </label>
                            </div>
                        </div>
                    </section>

                    {/* Simulation Results Summary */}
                    <section className="grid grid-cols-2 md:grid-cols-5 gap-3 mb-6">
                        {[
                            { label: 'ÂÆöÊ†ºÈõªÊµÅ', value: simulationData.ratedCurrent.toFixed(1), unit: 'A', color: 'text-green-400' },
                            { label: 'ÂÆöÊ†º„Éî„Éº„ÇØ', value: simulationData.peakRated.toFixed(1), unit: 'A', color: 'text-green-300' },
                            { label: 'Á™ÅÂÖ•„Éî„Éº„ÇØ', value: simulationData.peakInrush.toFixed(1), unit: 'A', color: 'text-yellow-400' },
                            { label: 'ÊúÄÂ§ßÁû¨ÊôÇÈõªÊµÅ', value: simulationData.maxCurrent.toFixed(1), unit: 'A', color: 'text-red-400' },
                            { label: 'ÂØæÂÆöÊ†ºÊØî', value: (simulationData.maxCurrent / simulationData.peakRated).toFixed(1), unit: 'ÂÄç', color: 'text-red-300' }
                        ].map((item, index) => (
                            <div key={index} className="bg-gray-800 p-4 rounded-lg text-center">
                                <div className="text-xs text-gray-400 mb-1">{item.label}</div>
                                <div className={`text-xl font-bold ${item.color}`}>
                                    {item.value} {item.unit}
                                </div>
                            </div>
                        ))}
                    </section>

                    {/* Equivalent Circuit Display */}
                    {displayOptions.showCircuit && (
                        <section className="bg-gray-800 p-6 rounded-lg mb-6 border border-green-600">
                            <h2 className="text-lg font-bold text-green-400 mb-4">
                                {motor.name} - Á≠â‰æ°ÂõûË∑Ø
                            </h2>
                            
                            {motor.category === 'Ë™òÂ∞éÊ©ü' && (
                                <div>
                                    <div className="flex gap-3 mb-4">
                                        {[
                                            { value: 1, label: 's = 1 (ÂÅúÊ≠¢)', bgColor: 'bg-red-600' },
                                            { value: 0.03, label: 's = 0.03 (ÂÆöÊ†º)', bgColor: 'bg-green-600' }
                                        ].map(option => (
                                            <button
                                                key={option.value}
                                                onClick={() => setCircuitSlip(option.value)}
                                                className={`px-4 py-2 rounded text-sm transition-colors ${
                                                    circuitSlip === option.value ? option.bgColor : 'bg-gray-600 hover:bg-gray-500'
                                                }`}
                                            >
                                                {option.label}
                                            </button>
                                        ))}
                                    </div>
                                    
                                    <InductionMotorCircuit 
                                        slip={circuitSlip} 
                                        hasExternalResistor={motor.id === 'woundRotor'} 
                                    />
                                    
                                    {motor.id === 'woundRotor' && (
                                        <div className="mt-4 p-3 bg-gray-700 rounded-lg">
                                            <div className="text-sm text-purple-300">
                                                üí° <strong>Â∑ªÁ∑öÂûãË™òÂ∞éÊ©ü„ÅÆÁâπÂæ¥:</strong> „Çπ„É™„ÉÉ„Éó„É™„É≥„Ç∞ÁµåÁî±„ÅßÂ§ñÈÉ®ÊäµÊäó R_ext „ÇíÊé•Á∂öÂèØËÉΩ„ÄÇ
                                                ÂßãÂãïÊôÇ„Å´ÊäµÊäó„ÇíÂ§ß„Åç„Åè„Åó„Å¶ÈõªÊµÅ„ÇíÊäëÂà∂„Åß„Åç„Åæ„Åô„ÄÇ
                                            </div>
                                        </div>
                                    )}
                                </div>
                            )}
                            
                            {motor.category === 'ÂêåÊúüÊ©ü' && (
                                <div>
                                    <SynchronousMotorCircuit isSalient={motor.id === 'salientPole'} />
                                    <div className="mt-4 p-3 bg-gray-700 rounded-lg">
                                        <div className="text-sm text-blue-300">
                                            üí° <strong>ÂêåÊúüÊ©ü„ÅÆÂßãÂãï:</strong> Ëá™Â∑±ÂßãÂãï„Åß„Åç„Å™„ÅÑ„Åü„ÇÅ„ÄÅ„ÉÄ„É≥„ÉëÂ∑ªÁ∑ö„ÅßË™òÂ∞éÊ©ü„Å®„Åó„Å¶ÂßãÂãï‚ÜíÂêåÊúüÂºïÂÖ•„Çå„ÄÅ
                                            „Åæ„Åü„ÅØ„Ç§„É≥„Éê„Éº„ÇøÂßãÂãï„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ
                                        </div>
                                    </div>
                                </div>
                            )}
                        </section>
                    )}

                    {/* Three-Phase Current Waveforms */}
                    <section className="bg-gray-800 p-6 rounded-lg mb-6">
                        <h2 className="text-lg font-semibold text-gray-200 mb-4">
                            ‰∏âÁõ∏ÈõªÊµÅÊ≥¢ÂΩ¢ [A] - {motor.name}
                        </h2>
                        <ResponsiveContainer width="100%" height={350}>
                            <LineChart data={simulationData.data} margin={{ top: 20, right: 30, left: 20, bottom: 40 }}>
                                <CartesianGrid strokeDasharray="3 3" stroke="#374151" />
                                <ReferenceArea 
                                    x1={0} 
                                    x2={simulationData.stopTimeMs} 
                                    fill="#1F2937" 
                                    fillOpacity={0.8} 
                                />
                                <XAxis 
                                    dataKey="time" 
                                    stroke="#9CA3AF"
                                    label={{ value: 'ÊôÇÈñì [ms]', position: 'insideBottom', offset: -10, fill: '#9CA3AF' }}
                                    tickFormatter={(v) => v.toFixed(0)} 
                                />
                                <YAxis 
                                    stroke="#9CA3AF" 
                                    domain={['auto', 'auto']} 
                                    tickFormatter={(v) => v.toFixed(0)} 
                                    label={{ value: 'ÈõªÊµÅ [A]', angle: -90, position: 'insideLeft', fill: '#9CA3AF' }}
                                />
                                <Tooltip 
                                    contentStyle={{ 
                                        backgroundColor: '#1F2937', 
                                        border: '1px solid #374151', 
                                        borderRadius: '6px',
                                        fontSize: 13 
                                    }}
                                    labelFormatter={(v) => `ÊôÇÈñì: ${v} ms`} 
                                />
                                <Legend />
                                <ReferenceLine y={0} stroke="#4B5563" strokeWidth={1} />
                                <ReferenceLine 
                                    x={simulationData.stopTimeMs} 
                                    stroke="#F59E0B" 
                                    strokeWidth={2}
                                    label={{ value: 'ÊäïÂÖ•', fill: '#F59E0B', position: 'topLeft' }} 
                                />
                                <ReferenceLine y={simulationData.peakRated} stroke="#10B981" strokeDasharray="5 5" />
                                <ReferenceLine y={-simulationData.peakRated} stroke="#10B981" strokeDasharray="5 5" />
                                
                                {displayOptions.showEnvelope && (
                                    <>
                                        <Line 
                                            type="monotone" 
                                            dataKey="envPos" 
                                            name="ÂåÖÁµ°Á∑ö" 
                                            stroke="#6B7280" 
                                            dot={false} 
                                            strokeWidth={1.5} 
                                            strokeDasharray="3 3" 
                                        />
                                        <Line 
                                            type="monotone" 
                                            dataKey="envNeg" 
                                            stroke="#6B7280" 
                                            dot={false} 
                                            strokeWidth={1.5} 
                                            strokeDasharray="3 3" 
                                            legendType="none" 
                                        />
                                    </>
                                )}
                                
                                <Line 
                                    type="monotone" 
                                    dataKey="iU" 
                                    name="UÁõ∏" 
                                    stroke="#EF4444" 
                                    dot={false} 
                                    strokeWidth={2} 
                                />
                                <Line 
                                    type="monotone" 
                                    dataKey="iV" 
                                    name="VÁõ∏" 
                                    stroke="#22C55E" 
                                    dot={false} 
                                    strokeWidth={2} 
                                />
                                <Line 
                                    type="monotone" 
                                    dataKey="iW" 
                                    name="WÁõ∏" 
                                    stroke="#3B82F6" 
                                    dot={false} 
                                    strokeWidth={2} 
                                />
                            </LineChart>
                        </ResponsiveContainer>
                    </section>

                    {/* U-Phase Current and DC Component */}
                    <section className="bg-gray-800 p-6 rounded-lg mb-6">
                        <h2 className="text-lg font-semibold text-gray-200 mb-4">
                            UÁõ∏ÈõªÊµÅ„Å®DCÊàêÂàÜ [A]
                        </h2>
                        <ResponsiveContainer width="100%" height={250}>
                            <LineChart data={simulationData.data} margin={{ top: 20, right: 30, left: 20, bottom: 40 }}>
                                <CartesianGrid strokeDasharray="3 3" stroke="#374151" />
                                <ReferenceArea 
                                    x1={0} 
                                    x2={simulationData.stopTimeMs} 
                                    fill="#1F2937" 
                                    fillOpacity={0.8} 
                                />
                                <XAxis 
                                    dataKey="time" 
                                    stroke="#9CA3AF" 
                                    tickFormatter={(v) => v.toFixed(0)} 
                                    label={{ value: 'ÊôÇÈñì [ms]', position: 'insideBottom', offset: -10, fill: '#9CA3AF' }}
                                />
                                <YAxis 
                                    stroke="#9CA3AF" 
                                    label={{ value: 'ÈõªÊµÅ [A]', angle: -90, position: 'insideLeft', fill: '#9CA3AF' }}
                                />
                                <Tooltip 
                                    contentStyle={{ 
                                        backgroundColor: '#1F2937', 
                                        border: '1px solid #374151', 
                                        borderRadius: '6px',
                                        fontSize: 13 
                                    }} 
                                    labelFormatter={(v) => `ÊôÇÈñì: ${v} ms`}
                                />
                                <Legend />
                                <ReferenceLine y={0} stroke="#4B5563" strokeWidth={1} />
                                <ReferenceLine 
                                    x={simulationData.stopTimeMs} 
                                    stroke="#F59E0B" 
                                    strokeWidth={2} 
                                />
                                <Line 
                                    type="monotone" 
                                    dataKey="iU" 
                                    name="UÁõ∏ÈõªÊµÅ" 
                                    stroke="#EF4444" 
                                    dot={false} 
                                    strokeWidth={2.5} 
                                />
                                <Line 
                                    type="monotone" 
                                    dataKey="dcU" 
                                    name="DCÊàêÂàÜ" 
                                    stroke="#F59E0B" 
                                    dot={false} 
                                    strokeWidth={2.5} 
                                    strokeDasharray="5 5" 
                                />
                            </LineChart>
                        </ResponsiveContainer>
                    </section>

                    {/* Motor Comparison Table */}
                    <section className="bg-gray-800 p-6 rounded-lg mb-6">
                        <h2 className="text-lg font-semibold text-gray-200 mb-4">„É¢„Éº„Çø„ÉºÁ®ÆÈ°û„ÅÆÊØîËºÉ</h2>
                        <div className="overflow-x-auto">
                            <table className="w-full text-sm">
                                <thead>
                                    <tr className="border-b border-gray-600">
                                        <th className="text-left py-3 px-3 text-gray-400 font-semibold">Á®ÆÈ°û</th>
                                        <th className="text-center py-3 px-3 text-gray-400 font-semibold">„Ç´„ÉÜ„Ç¥„É™</th>
                                        <th className="text-center py-3 px-3 text-gray-400 font-semibold">Á™ÅÂÖ•ÂÄçÁéá</th>
                                        <th className="text-center py-3 px-3 text-gray-400 font-semibold">ÂßãÂãï„Éà„É´„ÇØ</th>
                                        <th className="text-left py-3 px-3 text-gray-400 font-semibold">‰∏ª„Å™Áî®ÈÄî</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {Object.values(MOTOR_TYPES).map((m) => (
                                        <tr 
                                            key={m.id} 
                                            className={`border-b border-gray-700 cursor-pointer transition-colors ${
                                                selectedMotor === m.id ? 'bg-gray-700' : 'hover:bg-gray-750'
                                            }`}
                                            onClick={() => setSelectedMotor(m.id)}
                                        >
                                            <td className="py-3 px-3 font-semibold text-blue-400">{m.name}</td>
                                            <td className="py-3 px-3 text-center text-gray-300">{m.category}</td>
                                            <td className="py-3 px-3 text-center text-yellow-400 font-bold">{m.inrushMultiplier}ÂÄç</td>
                                            <td className="py-3 px-3 text-center text-green-400 font-bold">{m.startTorque} p.u.</td>
                                            <td className="py-3 px-3 text-gray-300">{m.applications}</td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </section>

                    {/* Footer */}
                    <footer className="text-center py-6 border-t border-gray-700">
                        <div className="text-gray-400 mb-2">
                            <span className="text-lg">üìö</span> „É¢„Éº„Çø„ÉºÂ≠¶ÁøíÊïôÊùê„Éó„É≠„Ç∏„Çß„ÇØ„Éà
                        </div>
                        <div className="flex justify-center gap-4 text-sm">
                            <a href="../" className="text-blue-400 hover:text-blue-300 transition-colors">
                                üè† „É°„Ç§„É≥„Éö„Éº„Ç∏„Å´Êàª„Çã
                            </a>
                            <a 
                                href="https://github.com/lutelute/Motor-InrushCurrent" 
                                className="text-blue-400 hover:text-blue-300 transition-colors"
                                target="_blank" 
                                rel="noopener noreferrer"
                            >
                                üìÇ GitHub„É™„Éù„Ç∏„Éà„É™
                            </a>
                        </div>
                        <p className="text-xs text-gray-500 mt-3">
                            „Åì„ÅÆ„Ç∑„Éü„É•„É¨„Éº„Çø„Éº„ÅØÊïôËÇ≤ÁõÆÁöÑ„Åß‰ΩúÊàê„Åï„Çå„Åæ„Åó„Åü„ÄÇÂÆüÈöõ„ÅÆË®≠Ë®à„Å´„ÅØÂ∞ÇÈñÄ„ÇΩ„Éï„Éà„Ç¶„Çß„Ç¢„Å®Áâ©ÁêÜË©¶È®ì„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ
                        </p>
                    </footer>
                </div>
            );
        }

        // Render the application
        ReactDOM.render(<MotorInrushSimulator />, document.getElementById('root'));
    </script>
</body>
</html>